(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{186:function(e,t,a){e.exports=a(316)},191:function(e,t,a){},316:function(e,t,a){"use strict";a.r(t);var n,r,o,i,c,s,l,u=a(0),d=a.n(u),m=a(47),k=a.n(m),p=(a(191),a(49)),b=a(175),f=a(50),g=a(55),h=a(56),y=a(30),O=(a(192),a(16)),v=a(325),j=a(331),E=a(324),w=function(e,t){var a;return null===(a=t.getElementById(e))||void 0===a||a.focus(),t.getElementById(e)},T=function(e){return Object(E.a)(e)&&!Object(j.a)(e)},D="violet",S="pink",C=(n=function(){function e(){Object(g.a)(this,e),this.tasksRegistryKey="tasksRegistryKey",Object(f.a)(this,"tasks",r,this),Object(f.a)(this,"loadTasks",o,this),Object(f.a)(this,"createTask",i,this),Object(f.a)(this,"completeTask",c,this),Object(f.a)(this,"restoreTask",s,this),Object(f.a)(this,"deleteTask",l,this)}return Object(h.a)(e,[{key:"groupAppTasksByDate",value:function(e){var t=e.sort((function(e,t){return Object(v.a)(new Date(e.deadline),new Date(t.deadline))}));return Object.entries(t.reduce((function(e,t){var a=new Date(t.deadline),n=Object(j.a)(a)?"Today":a.toISOString().split("T")[0];return e[n]=e[n]?[].concat(Object(b.a)(e[n]),[t]):[t],e}),{}))}},{key:"setTasksFromJson",value:function(){var e=this,t=window.localStorage.getItem(this.tasksRegistryKey);t&&(this.tasks=[],JSON.parse(t).forEach((function(t){e.tasks.push(t)})))}},{key:"updateStorage",value:function(){this.tasks?(console.log(this.tasks),window.localStorage.setItem(this.tasksRegistryKey,JSON.stringify(this.tasks))):window.localStorage.removeItem(this.tasksRegistryKey)}},{key:"tasksByDate",get:function(){return this.groupAppTasksByDate(this.tasks.filter((function(e){return!e.done&&!T(new Date(e.deadline))})))}},{key:"overdueTasks",get:function(){return this.tasks.filter((function(e){return!e.done&&T(new Date(e.deadline))}))}},{key:"doneTasks",get:function(){return this.tasks.filter((function(e){return e.done}))}}]),e}(),r=Object(y.a)(n.prototype,"tasks",[O.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=Object(y.a)(n.prototype,"loadTasks",[O.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){null!==window.localStorage.getItem(e.tasksRegistryKey)&&e.setTasksFromJson()}}}),Object(y.a)(n.prototype,"tasksByDate",[O.c],Object.getOwnPropertyDescriptor(n.prototype,"tasksByDate"),n.prototype),Object(y.a)(n.prototype,"overdueTasks",[O.c],Object.getOwnPropertyDescriptor(n.prototype,"overdueTasks"),n.prototype),Object(y.a)(n.prototype,"doneTasks",[O.c],Object.getOwnPropertyDescriptor(n.prototype,"doneTasks"),n.prototype),i=Object(y.a)(n.prototype,"createTask",[O.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.tasks.push(t),e.updateStorage()}}}),c=Object(y.a)(n.prototype,"completeTask",[O.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){for(var a=0;a<e.tasks.length;a++)if(e.tasks[a].id===t)return e.tasks[a].done=!0,void e.updateStorage();e.updateStorage()}}}),s=Object(y.a)(n.prototype,"restoreTask",[O.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){for(var a=0;a<e.tasks.length;a++)if(e.tasks[a].id===t)return e.tasks[a].done=!1,void e.updateStorage()}}}),l=Object(y.a)(n.prototype,"deleteTask",[O.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){for(var a=0;a<e.tasks.length;a++)if(e.tasks[a].id===t)return e.tasks.splice(a,1),void e.updateStorage()}}}),n),I=Object(u.createContext)(new C),B=a(38),z=a(332),x=a(84),N=a(329),R=a(22),A=a(85),F=a(326),J=a(334),K=a(330),P=a(327),M=a(110),W=a.n(M),G=Object(B.a)((function(){var e=Object(u.useContext)(I).createTask,t=Object(u.useState)(!1),a=Object(p.a)(t,2),n=a[0],r=a[1],o=Object(u.useState)({id:W()(),title:"",done:!1,deadline:new Date,timeCreated:new Date}),i=Object(p.a)(o,2),c=i[0],s=i[1],l=function(){if(!c.title||c.title&&""===c.title.trim())return r(!1),void s(Object(A.a)({},c,{title:""}));e(c),s({id:W()(),title:"",done:!1,deadline:new Date,timeCreated:new Date}),w("inputTitle",document)};return d.a.createElement(F.a,{textAlign:"center"},d.a.createElement(J.a,{visible:!n,duration:0},d.a.createElement("div",null,d.a.createElement(K.a,{inverted:!0,circular:!0,color:D,icon:"plus",onClick:function(){return r(!0)}}))),d.a.createElement(J.a,{onStart:function(){return w("titleInput",document)},fluid:!0,visible:n,animation:"slide down",duration:{hide:0,show:300}},d.a.createElement(P.a,null,d.a.createElement(P.a.Input,{id:"titleInput",fluid:!0,name:"title",placeholder:"Add new task",value:c.title,onChange:function(e){var t=e.currentTarget,a=t.name,n=t.value;s(Object(A.a)({},c,Object(R.a)({},a,n)))}}),d.a.createElement(K.a.Group,{floated:"left"},d.a.createElement(K.a,{icon:"check",color:D,content:"Save",labelPosition:"left",type:"submit",onClick:function(){return l()}}),d.a.createElement(K.a,{icon:"close",color:S,onClick:function(){r(!1),s(Object(A.a)({},c,{title:""}))}})))))})),L=a(333),$=Object(B.a)((function(e){var t=e.task,a=Object(u.useContext)(I),n=a.completeTask,r=a.restoreTask,o=a.deleteTask,i=Object(u.useState)(""),c=Object(p.a)(i,2),s=c[0],l=c[1];return d.a.createElement(N.a.Item,{className:"p-0"},d.a.createElement(z.a,{className:"p-2",onMouseEnter:function(){return l(t.id)},onMouseLeave:function(){return l("")}},d.a.createElement(L.a,null,d.a.createElement(L.a.Row,null,d.a.createElement(L.a.Column,{stretched:!0,className:"pr-0",width:2},d.a.createElement(K.a,{inverted:!0,icon:t.done?"undo":"check",color:t.done?S:D,size:"tiny",onClick:t.done?function(){r(t.id),l("")}:function(){n(t.id),l("")}})),d.a.createElement(L.a.Column,{className:"text-break",width:11},d.a.createElement(F.a,{className:"py-3",content:t.title})),d.a.createElement(L.a.Column,{width:3,verticalAlign:"top",textAlign:"right"},d.a.createElement(u.Fragment,null,d.a.createElement(J.a,{visible:s===t.id,animation:"scale",duration:0},d.a.createElement("div",null,d.a.createElement(K.a,{circular:!0,inverted:!0,disabled:t.done,icon:"ban",color:S,size:"tiny",onClick:function(){o(t.id),l("")}})))))))))})),q=Object(B.a)((function(e){var t=e.tasks,a=e.group,n=e.addable;return d.a.createElement(z.a,{clearing:!0,secondary:!0,color:n?D:S},d.a.createElement(x.a,{size:"large",color:n?D:S,attached:"top",content:a}),d.a.createElement(N.a,{selection:!0},t.map((function(e){return d.a.createElement($,{task:e,key:e.id})}))),n&&d.a.createElement(G,null))})),H=Object(B.a)((function(){var e=Object(u.useContext)(I),t=e.tasksByDate,a=e.overdueTasks,n=e.doneTasks;return Object(u.useEffect)((function(){e.loadTasks()}),[e]),d.a.createElement(z.a,{attached:!0},d.a.createElement(L.a,{stackable:!0},d.a.createElement(L.a.Column,{width:8},d.a.createElement(u.Fragment,null,0===t.length?d.a.createElement(u.Fragment,{key:"Default"},d.a.createElement(q,{addable:!0,tasks:[],group:"Today"})):t.map((function(e){var t=Object(p.a)(e,2),a=t[0],n=t[1];return d.a.createElement(u.Fragment,{key:a},d.a.createElement(q,{addable:!0,tasks:n,group:a}))})))),d.a.createElement(L.a.Column,{width:8},d.a.createElement(q,{tasks:a,group:"Overdue"}),d.a.createElement(q,{tasks:n,group:"Done"}))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));k.a.render(d.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[186,1,2]]]);
//# sourceMappingURL=main.5a04ee36.chunk.js.map